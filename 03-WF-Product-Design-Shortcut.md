## 快速执行

- 快速执行包括执行脚本和文件传输。

### 执行脚本


快速执行脚本提供的使用场景是针对需要快速执行的一次性任务，并且可能会反复调整脚本逻辑来执行得到用户想知道的结果，类似于在终端跳板机 Console 执行的效果。

![执行脚本](https://github.com/user-attachments/assets/781b7920-f0ad-4f61-a1f8-12c4249f9e90)



- 任务名称

  本次脚本执行的任务名称，方便后续在执行历史中有迹可循

- 脚本来源

  可以通过两种方式来提供本次执行的脚本内容： `手工录入` 和 `脚本引用` 

  - 「手工录入」即用户直接在当前页面的脚本编辑器内写脚本内容
    - 在脚本编辑框右上角提供了 `本地上传` `历史缓存` 和 `全屏展示` 功能
  - 「脚本引用」则是支持从脚本管理或公共脚本库中，引用已有的脚本来执行
    - 引用的脚本内容不可编辑

- 脚本内容

  展示当前手工录入或引用的脚本内容区域，支持的脚本语言有：`Shell` `Bat` `Perl` `Python` `Powershell` `SQL`

- 脚本参数

  脚本执行时传入的参数，同脚本在终端执行时的传参格式，如：`./test.sh xxxx xxx xxx`

  `敏感参数` 功能支持将脚本参数屏蔽，在参数信息较敏感时，该选项就派上了用场。

- 超时时长

  本次脚本执行的超时设置，当脚本执行超过该时间后将会自动关闭，结果被视为 "执行超时"

- 执行账号

  选择脚本执行的目标服务器相关的账号，如 Linux 系统的 `root` 或者 Windows 系统的 `Administrator`

- 目标服务器

  从CMDB中获取执行的目标服务器，支持通过 `拓扑选择IP` `手动输入IP` `拓扑选择节点` 和 `动态分组` 的方式选择

为了能够满足需要反复调参执行的使用场景，页面上还提供了快捷查看近 5 次执行记录的功能：

![脚本执行2](https://github.com/user-attachments/assets/e749349f-43b2-48eb-a679-f8a01a775195)



### 文件传输

与「快速执行脚本」功能提供的使用场景相同，快速分发文件的目的也是为了让需要进行一次性传输文件的用户，可以在这里快速的执行并得到结果。

![文件传输](https://github.com/user-attachments/assets/ef16037e-8962-462f-b708-a0e01a7b1c21)


- 任务名称

  分发文件的任务名，方便后续在执行历史中有迹可循

- 超时时长

  分发文件的超时设置，当文件传输时间超过时将会自动关闭，结果被视为 "执行超时"

- 上传 / 下载限速

  由于蓝鲸管控平台 Agent 默认的配置是会根据服务器带宽和资源使用情况进行限制的，防止出现因为执行的任务导致拖垮业务的机器；所以当用户自己确认机器允许更大限度传输时，通过开启限速设置可以提高传输的速率

- 源文件

  分发的源文件选择，支持选择 `本地文件` 或 `服务器文件/目录`

- 目标路径

  文件分发到目标服务器的绝对路径地址

- 传输模式

  > `严谨模式`：严谨判断目标路径是否存在！若不存在，任务将自动终止。
  >
  > `强制模式`：不论目标路径是否存在，都将强制按照用户指定的目标路径进行传输（不存在会自动创建）。
  >
  > `保险模式`：避免因源文件或目标机器有同名时被覆盖，为了安全起见，将自动在目标路径后面追加源 IP 目录。

- 执行账号

  文件分发的目标服务器相关的账号，如 Linux 系统的 `root` 或者 Windows 系统的 `Administrator`

- 目标服务器

  从CMDB中获取执行的目标服务器，支持通过 `静态-IP选择` `动态-拓扑选择` `动态-分组选择` 和 `手动输入` 的方式选择
